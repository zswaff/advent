#!/usr/bin/env python3
# -*- coding: utf-8 -*-


s = '59791875142707344554745984624833270124746225787022156176259864082972613206097260696475359886661459314067969858521185244807128606896674972341093111690401527976891268108040443281821862422244152800144859031661510297789792278726877676645835805097902853584093615895099152578276185267316851163313487136731134073054989870018294373731775466754420075119913101001966739563592696702233028356328979384389178001923889641041703308599918672055860556825287836987992883550004999016194930620165247185883506733712391462975446192414198344745434022955974228926237100271949068464343172968939069550036969073411905889066207300644632441054836725463178144030305115977951503567'


# part 1
x = [int(e) for e in s]
n = []
for i in range(1, len(x) + 1):
    t = []
    while len(t) < len(x) + 1:
        t += [0] * i + [1] * i + [0] * i + [-1] * i
    n.append(t[1:len(x) + 1])

for _ in range(100):
    t = []
    for i in range(len(x)):
        t.append(abs(sum(a * b for a, b in zip(x, n[i]))) % 10)
    x = t

print(''.join(str(e) for e in x[:8]))



# part 2
i = int(s[:7])
l = len(s)
d = l * 10000 - i
ns = s[-d % l:] + s * (d // l)
x = reversed([int(e) for e in ns])
for _ in range(100):
    nx = []
    c = 0
    for e in x:
        c = (c + e) % 10
        nx.append(c)
    x = nx
print(''.join(str(e) for e in reversed(x[-8:])))
